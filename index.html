<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#f5ebe0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Syrup Safari">
    <meta name="description" content="A beautiful app to log and rate your simple syrup creations">

    <title>Syrup Safari</title>

    <link rel="manifest" href="manifest.json">

    <!-- iOS Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/icon-144.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/icon-128.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192.png">

    <link rel="icon" type="image/svg+xml" href="icons/icon.svg">
    <link rel="icon" type="image/png" href="icons/icon-192.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Nunito:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <img src="icons/icon.svg" alt="Syrup Safari" class="logo-icon" width="32" height="32">
                    <h1>Syrup Safari</h1>
                </div>
                <button class="settings-btn" id="settingsBtn" aria-label="Settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <circle cx="12" cy="12" r="3" />
                        <path
                            d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home View - Syrup List -->
            <section id="homeView" class="view active">
                <!-- Filter Bar -->
                <div class="filter-bar">
                    <div class="search-wrapper">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8" />
                            <path d="M21 21l-4.35-4.35" />
                        </svg>
                        <input type="text" id="searchInput" placeholder="Search syrups..." class="search-input">
                    </div>
                    <button class="filter-btn" id="filterBtn" aria-label="Filter">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 6h16M6 12h12M8 18h8" />
                        </svg>
                    </button>
                </div>

                <!-- Filter Panel (hidden by default) -->
                <div id="filterPanel" class="filter-panel hidden">
                    <div class="filter-section">
                        <h3>Sort By</h3>
                        <div class="filter-options">
                            <button class="filter-option active" data-sort="date-desc">Newest</button>
                            <button class="filter-option" data-sort="date-asc">Oldest</button>
                            <button class="filter-option" data-sort="rating-desc">Highest Rated</button>
                            <button class="filter-option" data-sort="rating-asc">Lowest Rated</button>
                            <button class="filter-option" data-sort="name-asc">A-Z</button>
                            <button class="filter-option" data-sort="name-desc">Z-A</button>
                        </div>
                    </div>
                    <div class="filter-section">
                        <h3>Filter by Rating</h3>
                        <div class="filter-options">
                            <button class="filter-option" data-rating="all">All</button>
                            <button class="filter-option" data-rating="5">5 Hearts</button>
                            <button class="filter-option" data-rating="4">4+ Hearts</button>
                            <button class="filter-option" data-rating="3">3+ Hearts</button>
                        </div>
                    </div>
                    <div class="filter-section">
                        <h3>Filter by Tag</h3>
                        <div class="filter-options tags-filter" id="tagsFilter">
                            <!-- Tags will be populated dynamically -->
                        </div>
                    </div>
                </div>

                <!-- Syrup Grid -->
                <div id="syrupGrid" class="syrup-grid">
                    <!-- Syrup cards will be populated here -->
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="empty-state hidden">
                    <div class="empty-illustration">
                        <img src="icons/icon.svg" alt="Syrup bottle" width="120" height="120">
                    </div>
                    <h2>No syrups yet</h2>
                    <p>Start your syrup safari by adding your first creation!</p>
                </div>

                <!-- Add Button -->
                <button class="fab" id="addBtn" aria-label="Add new syrup">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14" />
                    </svg>
                </button>
            </section>

            <!-- Add/Edit View -->
            <section id="editView" class="view">
                <div class="edit-header">
                    <button class="back-btn" id="backBtn" aria-label="Go back">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h2 id="editTitle">New Syrup</h2>
                    <button class="save-btn" id="saveBtn">Save</button>
                </div>

                <form id="syrupForm" class="syrup-form">
                    <div class="form-group">
                        <label for="syrupName">Name</label>
                        <input type="text" id="syrupName" placeholder="e.g., Lavender Honey" required>
                    </div>

                    <div class="form-group">
                        <label for="syrupDescription">Description</label>
                        <textarea id="syrupDescription" placeholder="What makes this syrup special?"
                            rows="3"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Ingredients</label>
                        <div class="ingredients-list" id="ingredientsList">
                            <!-- Ingredient rows will be added here -->
                        </div>
                        <button type="button" class="add-ingredient-btn" id="addIngredientBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14M5 12h14"/>
                            </svg>
                            Add Ingredient
                        </button>
                    </div>

                    <div class="form-group">
                        <label>Rating</label>
                        <div class="rating-input" id="ratingInput">
                            <button type="button" class="heart-btn" data-rating="1" aria-label="1 heart">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </button>
                            <button type="button" class="heart-btn" data-rating="2" aria-label="2 hearts">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </button>
                            <button type="button" class="heart-btn" data-rating="3" aria-label="3 hearts">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </button>
                            <button type="button" class="heart-btn" data-rating="4" aria-label="4 hearts">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </button>
                            <button type="button" class="heart-btn" data-rating="5" aria-label="5 hearts">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="syrupTags">Tags</label>
                        <div class="tags-input-wrapper">
                            <div id="tagsList" class="tags-list"></div>
                            <input type="text" id="syrupTags" placeholder="Add tag and press Enter">
                        </div>
                        <div class="suggested-tags" id="suggestedTags">
                            <span class="suggested-tag" data-tag="Floral">Floral</span>
                            <span class="suggested-tag" data-tag="Fruity">Fruity</span>
                            <span class="suggested-tag" data-tag="Spicy">Spicy</span>
                            <span class="suggested-tag" data-tag="Herbal">Herbal</span>
                            <span class="suggested-tag" data-tag="Citrus">Citrus</span>
                            <span class="suggested-tag" data-tag="Sweet">Sweet</span>
                            <span class="suggested-tag" data-tag="Earthy">Earthy</span>
                            <span class="suggested-tag" data-tag="Seasonal">Seasonal</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Photo</label>
                        <div class="photo-section" id="photoSection">
                            <div class="photo-preview-container" id="photoPreviewContainer">
                                <div class="photo-preview" id="photoPreview">
                                    <!-- Will show art or photo -->
                                </div>
                                <button type="button" class="photo-overlay-btn" id="photoOverlayBtn" aria-label="Change photo">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <circle cx="8.5" cy="8.5" r="1.5"/>
                                        <polyline points="21 15 16 10 5 21"/>
                                    </svg>
                                    <span>Add Photo</span>
                                </button>
                            </div>
                            <div class="photo-actions">
                                <input type="file" id="photoInput" accept="image/*" capture="environment" style="display: none">
                                <button type="button" class="photo-action-btn" id="takePhotoBtn">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                                        <circle cx="12" cy="13" r="4"/>
                                    </svg>
                                    Take Photo
                                </button>
                                <button type="button" class="photo-action-btn secondary" id="removePhotoBtn" style="display: none">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                                    </svg>
                                    Remove Photo
                                </button>
                            </div>
                            <p class="photo-hint">Photo replaces the generated artwork</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Color</label>
                        <div class="color-picker-wrapper">
                            <div class="color-preview" id="colorPreview"></div>
                            <input type="color" id="colorPicker" class="color-picker">
                            <span class="color-hint">Auto-suggested based on name</span>
                        </div>
                        <div class="preset-colors" id="presetColors">
                            <button type="button" class="preset-color" data-color="#e8d4d4" style="background:#e8d4d4"
                                aria-label="Blush pink"></button>
                            <button type="button" class="preset-color" data-color="#d4e8d4" style="background:#d4e8d4"
                                aria-label="Sage green"></button>
                            <button type="button" class="preset-color" data-color="#d4d4e8" style="background:#d4d4e8"
                                aria-label="Lavender"></button>
                            <button type="button" class="preset-color" data-color="#e8e4d4" style="background:#e8e4d4"
                                aria-label="Cream"></button>
                            <button type="button" class="preset-color" data-color="#e8d8c8" style="background:#e8d8c8"
                                aria-label="Peach"></button>
                            <button type="button" class="preset-color" data-color="#d4e0e8" style="background:#d4e0e8"
                                aria-label="Sky blue"></button>
                            <button type="button" class="preset-color" data-color="#e0d4c8" style="background:#e0d4c8"
                                aria-label="Warm brown"></button>
                            <button type="button" class="preset-color" data-color="#dce8d4" style="background:#dce8d4"
                                aria-label="Mint"></button>
                        </div>
                    </div>

                    <input type="hidden" id="syrupId">
                </form>
            </section>

            <!-- Detail View -->
            <section id="detailView" class="view">
                <div class="detail-header" id="detailHeader">
                    <button class="back-btn" id="detailBackBtn" aria-label="Go back">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="detail-actions">
                        <button class="action-btn" id="editSyrupBtn" aria-label="Edit">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" />
                            </svg>
                        </button>
                        <button class="action-btn danger" id="deleteSyrupBtn" aria-label="Delete">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path
                                    d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="detail-content" id="detailContent">
                    <!-- Detail content populated dynamically -->
                </div>
            </section>

            <!-- Settings View -->
            <section id="settingsView" class="view">
                <div class="edit-header">
                    <button class="back-btn" id="settingsBackBtn" aria-label="Go back">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h2>Settings</h2>
                    <div style="width: 60px"></div>
                </div>
                <div class="settings-content">
                    <div class="settings-section achievements-section">
                        <h3>Achievements</h3>
                        <div id="achievementProgress" class="achievement-progress"></div>
                        <div id="achievementsGrid" class="achievements-grid">
                            <!-- Achievements will be populated dynamically -->
                        </div>
                    </div>
                    <div class="settings-section">
                        <h3>Data Management</h3>
                        <button class="settings-option" id="exportBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" />
                            </svg>
                            <span>Export Collection</span>
                        </button>
                        <button class="settings-option" id="importBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                            </svg>
                            <span>Import Collection</span>
                        </button>
                        <input type="file" id="importFile" accept=".json" style="display: none">
                    </div>
                    <div class="settings-section">
                        <h3>About</h3>
                        <div class="about-info">
                            <p><strong>Syrup Safari</strong></p>
                            <p class="version">Version 1.0</p>
                            <p class="made-with">Made with love by Chris for crafting the perfect simple syrup</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Delete Confirmation Modal -->
        <div id="deleteModal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <h3>Delete Syrup?</h3>
                <p>Are you sure you want to delete this syrup? This action cannot be undone.</p>
                <div class="modal-actions">
                    <button class="modal-btn cancel" id="cancelDeleteBtn">Cancel</button>
                    <button class="modal-btn danger" id="confirmDeleteBtn">Delete</button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="toast hidden">
            <span id="toastMessage"></span>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>